<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Missing Requirements</title>
    <link rel="stylesheet" type="text/css" href="/bl2/style.css">
    <style>
        h1 {
            margin-bottom: 0.5em;
        }

        img {
            padding-top: 0.5em;
        }

        #container {
            display: flex;
            flex-direction: column;
            justify-content: safe center;
            height: 85vh;
        }

        #buffer {
            height: 2em;
        }

        #notice {
            color: red;
            font-size: 0.9em;
        }
    </style>
    <script>
        window.addEventListener("load", function() {
            urlParams = new URLSearchParams(window.location.search);
            document.getElementsByName("mod").forEach(m => m.textContent = decodeURI(urlParams.get("m")));

            if (urlParams.has("update")) {
                document.getElementsByName("missing").forEach(e => e.hidden = true);
                document.getElementsByName("outdated").forEach(e => e.hidden = false);

                document.title = "Outdated Requirements";
                document.getElementById("header").innerText = document.title;
            }


            links = document.getElementById("links").children[0].children;
            for (var i = 1; i < links.length; i++) {
                if (urlParams.has(links[i].id)) {
                    links[i].hidden = false;
                    links[0].hidden = true;
                    version = decodeURI(urlParams.get(links[i].id));
                    if (version.length > 0) {
                        span = document.createElement("span");
                        span.classList.add("smallText")
                        span.innerText = `(at least ${version})`;
                        links[i].children[0].insertAdjacentElement("beforeend", span);
                    }
                }
            }
        });
    </script>
</head>
<body>
    <div id="container">
        <h1 id="header">Missing Requirements</h1>
        <div name="missing" class="text">
            <b name="mod">Unknown Mod Name</b> has requirements you must also install in order for it to load.
        </div>
        <div name="outdated" class="text" hidden>
            Some of the requirements for <b name="mod">Unknown Mod Name</b> are outdated, you will have to update to use it.
        </div>
        <table id="links"><tr id="notice"><td>
            Something went wrong, there should be mods listed here.
        </td></tr><tr hidden id="au"><td>
            <a href="https://github.com/apple1417/bl-sdk-mods/raw/master/AsyncUtil/AsyncUtil.zip">AsyncUtil</a>
        </td></tr><tr hidden id="ow"><td>
            <a href="https://github.com/apple1417/bl-sdk-mods/raw/master/AAA_OptionsWrapper/OptionsWrapper.zip">OptionsWrapper</a>
            <span class="smallText"><br>OptionsWrapper is deprecated, are you sure <b name="mod">Unknown Mod Name</b> doesn't have an update available?</span>
        </td></tr><tr hidden id="uf"><td>
            <a href="https://github.com/apple1417/bl-sdk-mods/raw/master/UserFeedback/UserFeedback.zip">UserFeedback</a>
        </td></tr></table>
        <div id="buffer"></div>
        <div name="missing" class="text">
            Requirements will always be listed on the mod download page.
            <br>
            <img class="center" src="plz.png">
        </div>
    </div>
</body>
